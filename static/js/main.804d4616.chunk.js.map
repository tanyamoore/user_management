{"version":3,"sources":["api/users.js","App.js","index.js"],"names":["getUsers","a","fetch","response","json","result","data","App","useState","users","setUsers","user","setUser","addUser","e","cache","id","length","target","value","Date","toString","console","log","JSON","stringify","useEffect","fetchData","options","method","body","addUsers","activeLabel","labels","className","deleteUser","url","class","type","onChange","name","onFocus","htmlFor","surname","birth","phone","email","pattern","onClick","preventDefault","map","updatedAt","createdAt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.804d4616.chunk.js","sourcesContent":["export const getUsers = async() => {\r\n  const response = await fetch(\"https://5f65f8ed43662800168e717f.mockapi.io/api/users\");\r\n  const result = await response.json();\r\n  return await result.data;\r\n};","import React, { useState, useEffect } from 'react';\nimport { getUsers } from './api/users';\nimport './App.css';\n\n\nfunction App() {\nconst [users, setUsers] = useState([])\nconst [user, setUser] = useState({})\nconst [currentPage, setCurrentPage] = useState(1)\nconst [usersPerPage, setUsersPerPage] = useState(10)\n\nconst addUsers = () => {\n  const url = 'https://5f65f8ed43662800168e717f.mockapi.io/api/users';\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(users),\n  };\n  return fetch(url, options);    \n};\n\n\nconst addUser = (e) => {\n  let cache = {\n    id: users.length+1,\n    ...user,\n    [e.target.id]: `${e.target.value}`,\n    createdAt: new Date().toString(),\n  }\n  setUser(cache);\n  console.log(JSON.stringify(users)) \n}\n\n\nuseEffect(() => {\n  async function fetchData() {\n    const response = await getUsers();\n    setUsers(response)\n  }\n  fetchData();\n  addUsers();   \n}, []); \n\n\nconst activeLabel = (e)=>{\n  console.log(e.target.labels[0])\n  e.target.labels[0].className = 'active'\n}\n\nconst deleteUser = (id) => {\n  const url = `https://5f65f8ed43662800168e717f.mockapi.io/api/users/${id}`;\n  const options = {\n    method: 'DELETE',\n  };\n\n  return fetch(url, options);\n};\n\n\n// const handleValidation = (event) => {\n//   const { value, name } = event.target;\n//   const errorName = `${name}Error`;\n//   // eslint-disable-next-line max-len\n//   const patternPhone = /(\\+3[-_()\\s]+|\\+3\\s?[(]{0,1}[0-9]{3}[)]{0,1}\\s?\\d{3}[-]{0,1}\\d{2}[-]{0,1}\\d{2})/;\n//   const patternMail = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n//   let isValid;\n\n//   switch (name) {\n//     case 'name':\n//       isValid = value.length < 60;\n//       break;\n//     case 'surname':\n//       isValid = value.length < 60;\n//       break;\n//     case 'phone':\n//       isValid = !patternPhone.test(value);\n//       break;\n//     case 'email':\n//       isValid = !patternMail.test(value);\n//       break;\n//     default: isValid = false;\n//   }\n\n//   setUser({\n//     validation: Object.values(user.errors)\n//       .every(input => input === false),\n//   })\n\n//   setUser({\n//     errors: {\n//       ...user.errors,\n//       [errorName]: isValid,\n//     },\n//   })\n// }\n\nconsole.log(users)\n\n  return (\n    <div className=\"App\">          \n      <form className=\"form\">     \n      <div class=\"input-field col s6\">  \n          <input  \n            className=\"fields\" \n            type=\"text\" \n            id=\"name\" \n            onChange={addUser}\n            value={user.name}\n            onFocus={activeLabel}\n            //onBlur={handleValidation}\n          />\n          <label htmlFor=\"name\">Please, enter your name:</label>      \n        </div>  \n        <div class=\"input-field col s6\"> \n          <input \n            className=\"fields\" \n            type=\"text\" \n            id=\"surname\" \n            onChange={addUser}\n            value={user.surname}\n            onFocus={activeLabel}\n            //onBlur={handleValidation}\n          />\n          <label htmlFor=\"surname\">Please, enter your surname:</label>        \n        </div>\n        <div class=\"input-field col s6\"> \n          <input \n            className=\"fields\" \n            type=\"date\" \n            id=\"birth\" \n            onChange={addUser}\n            value={user.birth}\n            onFocus={activeLabel}\n            //onBlur={handleValidation}\n          />\n          <label htmlFor=\"birth\">Please, enter your date of birth:</label>        \n        </div>\n        <div class=\"input-field col s6\"> \n          <input \n            className=\"fields\" \n            type=\"text\" \n            id=\"phone\" \n            onChange={addUser}\n            value={user.phone}\n            onFocus={activeLabel}\n            //onBlur={handleValidation}\n          />\n          <label htmlFor=\"phone\">Please, enter your phone:</label>        \n        </div>\n        <div class=\"input-field col s6\"> \n          <input \n            className=\"fields\" \n            type=\"text\" \n            id=\"email\" \n            onChange={addUser}\n            value={user.email}\n            onFocus={activeLabel}\n            //onBlur={handleValidation}\n          />\n          <label htmlFor=\"email\">Please, enter your email:</label>\n        </div>\n        <button \n          class=\"btn waves-effect waves-light\" \n          type=\"submit\" \n          name=\"action\"\n          pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n          onClick={\n            (e) => {\n              e.preventDefault();\n              setUsers([...users,user]);\n              setUser({\n                name: '',\n                surname: '',\n                phone: '',\n                email: '',\n                birth: '',\n              });\n            }\n          }\n        >\n          Add User\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </form>\n      <div className=\"block\">\n        {users.map(user=>\n          <div class=\"row\">\n            <div class=\"col s12 m6\">\n              <div class=\"card blue-grey darken-1\">\n                <div class=\"card-content white-text\">\n                  <span class=\"card-title\">{user.name} {user.surname}</span>\n                  <p>{user.birth}</p>\n                  <p>{user.email}</p>\n                  <p>{user.phone}</p>\n                  <p>{user.updatedAt || user.createdAt}</p>\n                </div>\n                <div class=\"card-action\">\n                <a class=\"waves-effect waves-light btn-small\">Edit</a>\n                <a class=\"waves-effect waves-light btn-small\">\n                  <button\n                    onClick={deleteUser}\n                  >Delete </button>\n                                   \n                </a>\n                </div>\n              </div>\n            </div>\n          </div> \n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}