{"version":3,"sources":["api/users.js","components/User.js","components/UserCard.js","App.js","index.js"],"names":["getUsers","a","fetch","response","json","result","data","User","user","setUsers","users","useState","changedUser","setChangedUser","changeUser","e","cache","target","id","value","className","name","onChange","surname","type","birth","email","phone","updatedAt","createdAt","class","onClick","filter","url","method","deleteUser","Date","toJSON","options","body","JSON","stringify","UserCard","map","App","setUser","handleChange","length","console","log","test","labels","textContent","style","color","borderColor","dir","validationemail","validationname","validationphone","validationsurname","validationbirth","document","getElementById","disabled","useEffect","fetchData","activeLabel","maxlength","onFocus","htmlFor","maxLength","preventDefault","addUserOnServer","ReactDOM","render"],"mappings":"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","file":"static/js/main.5e61177e.chunk.js","sourcesContent":["export const getUsers = async() => {\r\n  const response = await fetch(\"https://5f65f8ed43662800168e717f.mockapi.io/api/users?page=1&limit=10\");\r\n  const result = await response.json();\r\n  return await result.data;\r\n};","import React, { useState } from \"react\";\r\n\r\nexport const User = ({ user, setUsers, users }) => {\r\n\r\n  const [changedUser, setChangedUser] = useState(user)\r\n\r\n  const changeUser = (e) => {\r\n    const cache = {\r\n      ...changeUser,\r\n      [e.target.id]: e.target.value,      \r\n    }\r\n    setChangedUser(cache)\r\n  }\r\n\r\n  const updateUser = () => {\r\n    const url = `https://5f65f8ed43662800168e717f.mockapi.io/api/users/${user.id}`;\r\n    changedUser.updatedAt = new Date().toJSON();\r\n    const options = {\r\n      method: 'PUT',\r\n      body: JSON.stringify(changedUser),\r\n    };\r\n\r\n    return fetch(url, options);\r\n  }\r\n\r\n  const deleteUser = (id) => {\r\n    const cache = users.filter(user => user.id != id)\r\n    setUsers(cache)\r\n    const url = `https://5f65f8ed43662800168e717f.mockapi.io/api/users/${id}`;\r\n    const options = {\r\n      method: 'DELETE',\r\n    };\r\n\r\n    return fetch(url, options);\r\n  };\r\n  \r\n  return (  \r\n    <div className=\"card\">           \r\n      <div className=\"card__content\">\r\n        <input \r\n          id=\"name\"\r\n          className=\"card__title\" \r\n          value={changedUser.name} \r\n          onChange={changeUser}\r\n        />\r\n        <input \r\n          id=\"surname=\"\r\n          className=\"card__title\" \r\n          value={changedUser.surname} \r\n          onChange={changeUser}\r\n        />\r\n        <input \r\n          id=\"birth\"\r\n          className=\"card__input\" \r\n          type=\"date\" \r\n          value={changedUser.birth} \r\n          onChange={changeUser}\r\n        />\r\n        <input \r\n          id=\"email\"\r\n          className=\"card__input\" \r\n          value={changedUser.email} \r\n          onChange={changeUser}\r\n        />\r\n        <input \r\n          className=\"card__input\" \r\n          value={changedUser.phone} \r\n          onChange={changeUser}\r\n          id=\"phone\"\r\n        />\r\n        <input \r\n          className=\"card__input\" \r\n          value={changedUser.updatedAt || changedUser.createdAt} \r\n        />\r\n      </div>\r\n      <div class=\"card__action\">\r\n        <button \r\n          type=\"button\" \r\n          className=\"card__button\"\r\n          onClick={()=>deleteUser(user.id)}\r\n        >\r\n          Delete                                    \r\n        </button>\r\n        <button \r\n          type=\"button\" \r\n          className=\"card__button\"\r\n          onClick={updateUser}\r\n        >\r\n          Update                                   \r\n        </button>\r\n      </div>\r\n    </div> \r\n  )\r\n}","import React from \"react\";\r\nimport { User } from \"./User\";\r\n\r\nexport const UserCard = ({ users, setUsers }) => (\r\n  <div className=\"block\">\r\n    {users.map(user=>\r\n      <User \r\n        user={user}\r\n        users={users}\r\n        setUsers={setUsers}\r\n      />\r\n    )}\r\n  </div>\r\n);\r\n","import React, { useState, useEffect } from 'react';\nimport { getUsers } from './api/users';\nimport './App.css';\nimport { UserCard } from './components/UserCard';\n\n\nfunction App() {\nconst [users, setUsers] = useState([])\nconst [user, setUser] = useState({})\nconst [currentPage, setCurrentPage] = useState(1)\nconst [usersPerPage, setUsersPerPage] = useState(10)\n\nconst addUserOnServer = (user) => {\n  const url = 'https://5f65f8ed43662800168e717f.mockapi.io/api/users';\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(user),\n  };\n  return fetch(url, options);    \n};\n\n\nconst handleChange = (e) => {  \n  let cache = {\n    id: users.length+1,\n    ...user,\n    [e.target.id]: `${e.target.value}`,\n    createdAt: new Date().toJSON(),\n    [`validation${[e.target.id]}`]: false,    \n  }\n\n  setUser(cache);   \n\n  console.log(e.target.id, e.target.value.length)\n\n  if (e.target.id === \"phone\" && e.target.value.length < 9 || e.target.id === \"phone\"  && e.target.value.length == 9 && !/0[0-9]{9}/.test(e.target.value)) {\n    e.target.labels[0].textContent = \"This field must contain 10 symbols and start with 0\";\n    e.target.labels[0].style.color = \"red\";\n    e.target.style.borderColor = \"red\"\n  } \n\n  else if (e.target.id === \"email\" && !/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/.test(e.target.value)) {\n    e.target.labels[0].textContent = \"Please, enter correct email. Example: email@gmail.com\";\n    e.target.labels[0].style.color = \"red\";\n    e.target.style.borderColor = \"red\"\n  }\n  \n  \n\n  else if (e.target.id === \"name\" && e.target.value.length === 60\n    || e.target.id === \"surname\" && e.target.value.length === 60 \n    || e.target.value.length < 3 && e.target.id === \"name\"\n    || e.target.value.length < 3 && e.target.id === \"surname\") {\n    console.dir(e.target.style.borderColor = \"red\")\n    e.target.labels[0].textContent = \"This field must contain more than 3, and less than 60 symbols\";\n    e.target.labels[0].style.color = \"red\";\n    e.target.style.borderColor = \"red\"\n  } \n  else {\n    e.target.labels[0].textContent = `Please, enter your ${e.target.id}:`;\n    e.target.labels[0].style.color = \"\";\n    e.target.style.borderColor = \"\";\n    cache[`validation${[e.target.id]}`] = true;\n  }\n  \n  if (user.validationemail === true && user.validationname === true \n    && user.validationphone === true && user.validationsurname === true\n    && user.validationbirth === true) {    \n    document.getElementById(\"btn\").disabled = false;\n  } \n\n  console.log(user)\n}\n\nuseEffect(() => {\n  document.getElementById(\"btn\").disabled = true;\n  async function fetchData() {\n    const response = await getUsers();\n    setUsers(response)\n  }\n  fetchData(); \n}, []); \n\n\nconst activeLabel = (e)=>{\n  e.target.labels[0].className = 'active'\n}\n\n  return (\n    <div className=\"App\">     \n      <form className=\"form\">    \n        <div className=\"input-field col s6\">  \n          <input  \n            maxlength=\"60\" \n            className=\"fields\" \n            type=\"text\" \n            id=\"name\" \n            onChange={handleChange}\n            value={user.name}\n            onFocus={activeLabel}\n          />\n          <label htmlFor=\"name\">Please, enter your name:</label> \n        </div>  \n        <div className=\"input-field col s6\"> \n          <input \n            maxlength=\"60\"\n            className=\"fields\" \n            type=\"text\" \n            id=\"surname\" \n            onChange={handleChange}\n            value={user.surname}\n            onFocus={activeLabel}\n          />\n          <label htmlFor=\"surname\">Please, enter your surname:</label>        \n        </div>\n        <div className=\"input-field col s6\"> \n          <input \n            className=\"fields\" \n            type=\"date\" \n            id=\"birth\" \n            onChange={handleChange}\n            value={user.birth}\n            onFocus={activeLabel}\n          />\n          <label htmlFor=\"birth\">Please, enter your date of birth:</label>        \n        </div>\n        <div class=\"input-field col s6\"> \n          <input \n            className=\"fields\" \n            type=\"tel\"\n            id=\"phone\" \n            maxLength=\"10\"\n            value={user.phone}\n            onChange={handleChange}\n            onFocus={activeLabel}            \n          />\n          <label htmlFor=\"phone\">Please, enter your phone:</label>        \n        </div>\n        <div className=\"input-field col s6\"> \n          <input \n            className=\"fields\" \n            type=\"email\" \n            id=\"email\" \n            onChange={handleChange}\n            value={user.email}\n            onFocus={activeLabel}\n          />\n          <label htmlFor=\"email\">Please, enter your email:</label>\n        </div>\n        <button \n          id=\"btn\"\n          className=\"btn waves-effect waves-light\" \n          type=\"submit\" \n          name=\"action\"\n          onClick={\n            (e) => {\n              e.preventDefault();\n                setUsers([...users,user]);\n                setUser({\n                  name: '',\n                  surname: '',\n                  phone: '',\n                  email: '',\n                  birth: '',\n                });\n                addUserOnServer(user);\n                document.getElementById(\"btn\").disabled = true;\n              }            \n            }\n        >\n          Add User\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </form>\n      <UserCard \n        users={users}\n        setUsers={setUsers}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}