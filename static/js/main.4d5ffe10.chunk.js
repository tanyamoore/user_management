(this.webpackJsonpuser_management=this.webpackJsonpuser_management||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),l=a.n(c),i=a(10),s=a(4),o=a.n(s),u=a(7),d=a(2),b=a(1),m=a(3),g=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://5f65f8ed43662800168e717f.mockapi.io/api/users");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,t.ok){e.next=9;break}return alert("Sorry, but server is broken:("),e.abrupt("return",[]);case 9:return e.next=11,a.data;case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=(a(17),function(e){var t=e.id,a=e.type,r=e.handleChange,c=e.user;e.length;return n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{className:"fields",type:a,id:t,onChange:r,value:c["".concat(t)],maxLength:"60",onFocus:function(e){return e.target.labels[0].className="active"}}),n.a.createElement("label",{htmlFor:t},"Please, enter your ",t,":"))}),f=function(e){for(var t=e.usersPerPage,a=e.totalUsers,r=e.paginate,c=[],l=1;l<=Math.ceil(a/t);l++)c.push(l);return n.a.createElement("nav",{class:"nav"},n.a.createElement("ul",null,c.map((function(e){return n.a.createElement("li",{key:e},n.a.createElement("a",{href:"!#",onClick:function(){r(e)}},e))}))))},p=function(e){var t=e.user,a=e.deleteUser,c=Object(r.useState)(t),l=Object(m.a)(c,2),i=l[0],s=l[1];Object(r.useEffect)((function(){s(t)}),[t]);var o=function(e){var t,a,r=Object(b.a)(Object(b.a)({},i),{},(t={},Object(d.a)(t,e.target.id,e.target.value),Object(d.a)(t,"isValid",Object(b.a)(Object(b.a)({},i.isValid),{},Object(d.a)({},"".concat([e.target.id]),!0))),t));s(Object(b.a)(Object(b.a)({},r),{},(a={},Object(d.a)(a,e.target.id,e.target.value),Object(d.a)(a,"isValid",Object(b.a)(Object(b.a)({},r.isValid),{},Object(d.a)({},"".concat([e.target.id]),!1))),Object(d.a)(a,"updatedAt",(new Date).toJSON()),a))),"phone"!==e.target.id||10===e.target.value.length||/0[0-9]{9}/.test(e.target.value)?"email"!==e.target.id||/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(e.target.value)?"name"===e.target.id&&60===e.target.value.length||"surname"===e.target.id&&60===e.target.value.length||e.target.value.length<3&&"name"===e.target.id||e.target.value.length<3&&"surname"===e.target.id?(e.target.style.borderColor="red",s(Object(b.a)(Object(b.a)({},r),{},{isValid:Object(b.a)(Object(b.a)({},r.isValid),{},Object(d.a)({},"".concat([e.target.id]),!1))}))):(e.target.style.borderColor="",s(Object(b.a)(Object(b.a)({},r),{},{isValid:Object(b.a)(Object(b.a)({},r.isValid),{},Object(d.a)({},"".concat([e.target.id]),!0))}))):(e.target.style.borderColor="red",s(Object(b.a)(Object(b.a)({},r),{},{isValid:Object(b.a)(Object(b.a)({},r.isValid),{},Object(d.a)({},"".concat([e.target.id]),!1))}))):(s(Object(b.a)(Object(b.a)({},r),{},{isValid:Object(b.a)(Object(b.a)({},r.isValid),{},Object(d.a)({},"".concat([e.target.id]),!1))})),e.target.style.borderColor="red"),console.log(r)};return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card__content"},n.a.createElement("input",{id:"name",className:"card__title",value:i.name,onChange:o}),n.a.createElement("input",{id:"surname",className:"card__title",value:i.surname,onChange:o}),n.a.createElement("input",{id:"birth",className:"card__input",type:"date",value:i.birth&&i.birth.slice(0,10),onChange:o}),n.a.createElement("input",{id:"email",className:"card__input",value:i.email,onChange:o}),n.a.createElement("input",{className:"card__input",value:i.phone,onChange:o,id:"phone"}),n.a.createElement("input",{className:"card__input",value:i.updatedAt||i.createdAt})),n.a.createElement("div",{class:"card__action"},n.a.createElement("button",{type:"button",className:"card__button",onClick:function(){return a(t.id)}},"Delete"),n.a.createElement("button",{type:"button",className:"card__button",onClick:function(){return function(e){if(console.log(e),window.confirm("Are you sure to change User data?")){var t="https://5f65f8ed43662800168e717f.mockapi.io/api/users/".concat(e.id),a={method:"PUT",body:JSON.stringify(e)};return fetch(t,a)}}(i)},disabled:!Object.values(i.isValid).every((function(e){return!0===e}))},"Update")))},O=function(e){var t=e.users,a=e.deleteUser;return n.a.createElement("div",{className:"block"},t.map((function(e){return n.a.createElement(p,{user:e,deleteUser:a})})))};var j=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)({}),s=Object(m.a)(l,2),p=s[0],j=s[1],v=Object(r.useState)(1),y=Object(m.a)(v,2),E=y[0],C=y[1],_=Object(r.useState)(10),N=Object(m.a)(_,1)[0],V=E*N,k=V-N,x=a.slice(k,V);console.log(x);var w=function(e){var t,r=Object(b.a)(Object(b.a)({id:a.length+1+""},p),{},(t={},Object(d.a)(t,e.target.id,"".concat(e.target.value)),Object(d.a)(t,"createdAt",(new Date).toJSON()),Object(d.a)(t,"isValid",Object(b.a)(Object(b.a)({},p.isValid),{},Object(d.a)({},"".concat([e.target.id]),!1))),t));j(r),function(e,t){"phone"!==e.target.id||10===e.target.value.length||/0[0-9]{9}/.test(e.target.value)?"email"!==e.target.id||/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(e.target.value)?"name"===e.target.id&&60===e.target.value.length||"surname"===e.target.id&&60===e.target.value.length||e.target.value.length<3&&"name"===e.target.id||e.target.value.length<3&&"surname"===e.target.id?(console.dir(e.target),e.target.labels[0].textContent="This field must contain more than 3, and less than 60 symbols",e.target.labels[0].style.color="red",e.target.style.borderColor="red"):(e.target.labels[0].textContent="Please, enter your ".concat(e.target.id,":"),e.target.labels[0].style.color="",e.target.style.borderColor="",j(Object(b.a)(Object(b.a)({},t),{},{isValid:Object(b.a)(Object(b.a)({},t.isValid),{},Object(d.a)({},"".concat([e.target.id]),!0))}))):(e.target.labels[0].textContent="Please, enter correct email. Example: email@gmail.com",e.target.labels[0].style.color="red",e.target.style.borderColor="red"):(e.target.labels[0].textContent="This field must contain 10 symbols and start with 0",e.target.labels[0].style.color="red",e.target.style.borderColor="red")}(e,r)};return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"App"},n.a.createElement("form",{className:"form"},n.a.createElement(h,{id:"name",handleChange:w,type:"text",user:p,length:"60"}),n.a.createElement(h,{id:"surname",handleChange:w,type:"text",user:p,length:"60"}),n.a.createElement(h,{type:"date",id:"birth",handleChange:w,user:p}),n.a.createElement(h,{type:"tel",id:"phone",length:"10",handleChange:w,user:p}),n.a.createElement(h,{type:"email",id:"email",handleChange:w,user:p}),n.a.createElement("button",{id:"btn",className:"btn waves-effect waves-light",type:"submit",name:"action",disabled:!p.isValid||5!==Object.values(p.isValid).length||!Object.values(p.isValid).every((function(e){return!0===e})),onClick:function(e){e.preventDefault(),c([].concat(Object(i.a)(a),[p])),j({name:"",surname:"",phone:"",email:"",birth:""}),function(e){var t={method:"POST",body:JSON.stringify(e)};fetch("https://5f65f8ed43662800168e717f.mockapi.io/api/users",t)}(p)}},"Add User",n.a.createElement("i",{class:"material-icons right"},"send"))),n.a.createElement(f,{usersPerPage:N,totalUsers:a.length,paginate:function(e){C(e)}}),n.a.createElement(O,{users:x,deleteUser:function(e){if(window.confirm("Are you sure to delete this User?")){var t=a.filter((function(t){return t.id!==e}));c(t);var r="https://5f65f8ed43662800168e717f.mockapi.io/api/users/".concat(e);return fetch(r,{method:"DELETE"})}}}))};l.a.render(n.a.createElement(j,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.4d5ffe10.chunk.js.map