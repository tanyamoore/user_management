(this.webpackJsonpuser_management=this.webpackJsonpuser_management||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),s=a.n(l),c=a(10),i=a(3),o=a.n(i),u=a(7),m=a(1),d=a(4),p=a(2),b=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://5f65f8ed43662800168e717f.mockapi.io/api/users?page=1&limit=10");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,a.data;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=(a(17),function(e){var t=e.user,a=e.setUsers,l=e.users,s=Object(n.useState)(t),c=Object(p.a)(s,2),i=c[0],o=c[1],u=function e(t){var a=Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},t.target.id,t.target.value));o(a)};return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__content"},r.a.createElement("input",{id:"name",className:"card__title",value:i.name,onChange:u}),r.a.createElement("input",{id:"surname=",className:"card__title",value:i.surname,onChange:u}),r.a.createElement("input",{id:"birth",className:"card__input",type:"date",value:i.birth,onChange:u}),r.a.createElement("input",{id:"email",className:"card__input",value:i.email,onChange:u}),r.a.createElement("input",{className:"card__input",value:i.phone,onChange:u,id:"phone"}),r.a.createElement("input",{className:"card__input",value:i.updatedAt||i.createdAt})),r.a.createElement("div",{class:"card__action"},r.a.createElement("button",{type:"button",className:"card__button",onClick:function(){return function(e){var t=l.filter((function(t){return t.id!=e}));a(t);var n="https://5f65f8ed43662800168e717f.mockapi.io/api/users/".concat(e);return fetch(n,{method:"DELETE"})}(t.id)}},"Delete"),r.a.createElement("button",{type:"button",className:"card__button",onClick:function(){var e="https://5f65f8ed43662800168e717f.mockapi.io/api/users/".concat(t.id);i.updatedAt=(new Date).toJSON();var a={method:"PUT",body:JSON.stringify(i)};return fetch(e,a)}},"Update")))}),h=function(e){var t=e.users,a=e.setUsers;return r.a.createElement("div",{className:"block"},t.map((function(e){return r.a.createElement(g,{user:e,users:t,setUsers:a})})))};var f=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],s=Object(n.useState)({}),i=Object(p.a)(s,2),g=i[0],f=i[1],v=Object(n.useState)(1),E=Object(p.a)(v,2),y=(E[0],E[1],Object(n.useState)(10)),N=Object(p.a)(y,2),O=(N[0],N[1],function(e){var t,n=Object(d.a)(Object(d.a)({id:a.length+1},g),{},(t={},Object(m.a)(t,e.target.id,"".concat(e.target.value)),Object(m.a)(t,"createdAt",(new Date).toJSON()),Object(m.a)(t,"validation".concat([e.target.id]),!1),t));f(n),console.log(e.target.id,e.target.value.length),"phone"===e.target.id&&e.target.value.length<9||"phone"===e.target.id&&9==e.target.value.length&&!/0[0-9]{9}/.test(e.target.value)?(e.target.labels[0].textContent="This field must contain 10 symbols and start with 0",e.target.labels[0].style.color="red",e.target.style.borderColor="red"):"email"!==e.target.id||/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(e.target.value)?"name"===e.target.id&&60===e.target.value.length||"surname"===e.target.id&&60===e.target.value.length||e.target.value.length<3&&"name"===e.target.id||e.target.value.length<3&&"surname"===e.target.id?(console.dir(e.target.style.borderColor="red"),e.target.labels[0].textContent="This field must contain more than 3, and less than 60 symbols",e.target.labels[0].style.color="red",e.target.style.borderColor="red"):(e.target.labels[0].textContent="Please, enter your ".concat(e.target.id,":"),e.target.labels[0].style.color="",e.target.style.borderColor="",n["validation".concat([e.target.id])]=!0):(e.target.labels[0].textContent="Please, enter correct email. Example: email@gmail.com",e.target.labels[0].style.color="red",e.target.style.borderColor="red"),!0===g.validationemail&&!0===g.validationname&&!0===g.validationphone&&!0===g.validationsurname&&!0===g.validationbirth&&(document.getElementById("btn").disabled=!1),console.log(g)});Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.getElementById("btn").disabled=!0,function(){e.apply(this,arguments)}()}),[]);var j=function(e){e.target.labels[0].className="active"};return r.a.createElement("div",{className:"App"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{maxlength:"60",className:"fields",type:"text",id:"name",onChange:O,value:g.name,onFocus:j}),r.a.createElement("label",{htmlFor:"name"},"Please, enter your name:")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{maxlength:"60",className:"fields",type:"text",id:"surname",onChange:O,value:g.surname,onFocus:j}),r.a.createElement("label",{htmlFor:"surname"},"Please, enter your surname:")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{className:"fields",type:"date",id:"birth",onChange:O,value:g.birth,onFocus:j}),r.a.createElement("label",{htmlFor:"birth"},"Please, enter your date of birth:")),r.a.createElement("div",{class:"input-field col s6"},r.a.createElement("input",{className:"fields",type:"tel",id:"phone",maxLength:"10",value:g.phone,onChange:O,onFocus:j}),r.a.createElement("label",{htmlFor:"phone"},"Please, enter your phone:")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{className:"fields",type:"email",id:"email",onChange:O,value:g.email,onFocus:j}),r.a.createElement("label",{htmlFor:"email"},"Please, enter your email:")),r.a.createElement("button",{id:"btn",className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:function(e){e.preventDefault(),l([].concat(Object(c.a)(a),[g])),f({name:"",surname:"",phone:"",email:"",birth:""}),function(e){var t={method:"POST",body:JSON.stringify(e)};fetch("https://5f65f8ed43662800168e717f.mockapi.io/api/users",t)}(g),document.getElementById("btn").disabled=!0}},"Add User",r.a.createElement("i",{class:"material-icons right"},"send"))),r.a.createElement(h,{users:a,setUsers:l}))};s.a.render(r.a.createElement(f,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.5e61177e.chunk.js.map